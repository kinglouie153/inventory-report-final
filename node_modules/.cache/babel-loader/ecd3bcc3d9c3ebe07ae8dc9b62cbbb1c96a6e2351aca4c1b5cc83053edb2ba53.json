{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import*as XLSX from\"xlsx\";import jsPDF from\"jspdf\";import\"jspdf-autotable\";import{supabase}from\"./supabase\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Input=props=>/*#__PURE__*/_jsx(\"input\",{...props,className:`px-2 py-1 rounded border ${props.className||\"border-gray-300\"}`});const Button=props=>/*#__PURE__*/_jsx(\"button\",{...props,className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"});export default function InventoryApp(_ref){let{session}=_ref;const{username,role}=session;const[userRole]=useState(role);const[currentUser]=useState(username);const[excelData,setExcelData]=useState([]);const[fileId,setFileId]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[editMessage,setEditMessage]=useState(\"\");const[reportHistory,setReportHistory]=useState([]);useEffect(()=>{if(userRole===\"user\"){loadLatestFile();}},[]);const handleLogout=()=>{window.location.reload();};const handleUpload=async e=>{const file=e.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=async evt=>{const data=evt.target.result;const workbook=XLSX.read(data,{type:\"binary\"});const sheetName=workbook.SheetNames[0];const worksheet=workbook.Sheets[sheetName];const jsonData=XLSX.utils.sheet_to_json(worksheet,{header:1});if(jsonData[0].length<5){jsonData[0].push(\"Entered By\");}const{data:inserted,error}=await supabase.from(\"files\").insert([{uploaded_by:currentUser,data:jsonData}]).select();if(error){console.error(\"Upload failed\",error);}else{setExcelData(jsonData);setFileId(inserted[0].id);}};reader.readAsBinaryString(file);};const loadLatestFile=async()=>{const{data,error}=await supabase.from(\"files\").select(\"id, data\").order(\"created_at\",{ascending:false}).limit(1).single();if(!error&&data!==null&&data!==void 0&&data.data){setExcelData(data.data);setFileId(data.id);}};const saveToSupabase=async newData=>{if(!fileId)return;await supabase.from(\"files\").update({data:newData}).eq(\"id\",fileId);};const handleInputChange=(index,value)=>{const updatedData=[...excelData];updatedData[index][2]=value;updatedData[index][4]=currentUser;setExcelData(updatedData);saveToSupabase(updatedData);setEditMessage(\"Changes saved. Report will reflect latest values.\");setTimeout(()=>setEditMessage(\"\"),3000);};const getInputClass=(actual,expected)=>{if(actual===undefined||actual===\"\")return\"border-gray-300\";const diff=Math.abs(actual-expected);if(diff===0)return\"border-green-500\";if(diff<=10)return\"border-yellow-400\";if(diff<=20)return\"border-orange-400\";return\"border-red-500\";};const handleSubmit=()=>{saveToSupabase(excelData);alert(\"Submitted. Data has been saved.\");};const handleGeneratePDF=()=>{const doc=new jsPDF();const missing=excelData.slice(1).filter(row=>row[2]===undefined||row[2]===\"\");const rows=missing.map(row=>[row[0],row[3]]);doc.text(\"Items Missing Physical Count\",14,16);doc.autoTable({head:[[\"SKU\",\"Description\"]],body:rows,startY:20});doc.save(`Missing_Counts_${Date.now()}.pdf`);};const filteredData=excelData.filter((row,index)=>{var _row$;if(index===0)return true;return(_row$=row[0])===null||_row$===void 0?void 0:_row$.toString().toLowerCase().includes(searchQuery.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-6xl mx-auto space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Inventory Report System\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"block text-sm text-gray-500\",children:[\"Logged in as: \",currentUser,\" (\",userRole,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"mt-1 text-sm text-red-600 underline hover:text-red-800\",children:\"Logout\"})]})]}),userRole===\"admin\"&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{type:\"file\",accept:\".xlsx,.xls\",onChange:handleUpload})}),excelData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[userRole===\"user\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Search SKU...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-64 border-gray-400\"}),/*#__PURE__*/_jsx(Button,{onClick:handleGeneratePDF,children:\"Download Missing Counts PDF\"})]}),editMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 text-sm\",children:editMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto border rounded p-2\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full table-auto text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1\",children:\"SKU\"}),userRole===\"admin\"&&/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1\",children:\"On Hand\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1\",children:\"Physical Count\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1\",children:\"Description\"}),userRole===\"admin\"&&/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-1\",children:\"Entered By\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredData.slice(1).map((row,idx)=>{const rowIndex=excelData.findIndex(r=>r[0]===row[0]);const physicalCount=row[2];const onHand=row[1];return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1\",children:/*#__PURE__*/_jsx(\"span\",{className:row[2]===undefined||row[2]===\"\"?\"font-bold\":\"\",children:row[0]})}),userRole===\"admin\"&&/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1\",children:onHand}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1\",children:row[3]?/*#__PURE__*/_jsx(Input,{type:\"text\",inputMode:\"numeric\",pattern:\"[0-9]*\",value:physicalCount||\"\",onChange:e=>handleInputChange(rowIndex,parseInt(e.target.value)),className:`border-2 w-full ${getInputClass(parseInt(physicalCount),parseInt(onHand))}`}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 italic\",children:\"N/A\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1\",children:row[3]}),userRole===\"admin\"&&/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-1\",children:row[4]})]},idx);})})]})})]}),userRole===\"user\"&&excelData.length>0&&/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"Submit\"}),userRole===\"admin\"&&excelData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border-t pt-4 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"Generate Report\"}),/*#__PURE__*/_jsx(Button,{onClick:handleGeneratePDF,children:\"Download Missing Counts PDF\"})]}),reportHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mt-2\",children:\"Report History\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-blue-700 mt-1\",children:reportHistory.map((file,index)=>/*#__PURE__*/_jsx(\"li\",{children:file},index))})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","XLSX","jsPDF","supabase","jsx","_jsx","jsxs","_jsxs","Input","props","className","Button","InventoryApp","_ref","session","username","role","userRole","currentUser","excelData","setExcelData","fileId","setFileId","searchQuery","setSearchQuery","editMessage","setEditMessage","reportHistory","setReportHistory","loadLatestFile","handleLogout","window","location","reload","handleUpload","e","file","target","files","reader","FileReader","onload","evt","data","result","workbook","read","type","sheetName","SheetNames","worksheet","Sheets","jsonData","utils","sheet_to_json","header","length","push","inserted","error","from","insert","uploaded_by","select","console","id","readAsBinaryString","order","ascending","limit","single","saveToSupabase","newData","update","eq","handleInputChange","index","value","updatedData","setTimeout","getInputClass","actual","expected","undefined","diff","Math","abs","handleSubmit","alert","handleGeneratePDF","doc","missing","slice","filter","row","rows","map","text","autoTable","head","body","startY","save","Date","now","filteredData","_row$","toString","toLowerCase","includes","children","onClick","accept","onChange","placeholder","idx","rowIndex","findIndex","r","physicalCount","onHand","inputMode","pattern","parseInt"],"sources":["/Users/louiemonteverde/Documents/inventory-report-supabase/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { supabase } from \"./supabase\";\n\nconst Input = (props) => (\n  <input\n    {...props}\n    className={`px-2 py-1 rounded border ${props.className || \"border-gray-300\"}`}\n  />\n);\n\nconst Button = (props) => (\n  <button\n    {...props}\n    className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n  />\n);\n\nexport default function InventoryApp({ session }) {\n  const { username, role } = session;\n  const [userRole] = useState(role);\n  const [currentUser] = useState(username);\n  const [excelData, setExcelData] = useState([]);\n  const [fileId, setFileId] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [editMessage, setEditMessage] = useState(\"\");\n  const [reportHistory, setReportHistory] = useState([]);\n\n  useEffect(() => {\n    if (userRole === \"user\") {\n      loadLatestFile();\n    }\n  }, []);\n\n  const handleLogout = () => {\n    window.location.reload();\n  };\n\n  const handleUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = async (evt) => {\n      const data = evt.target.result;\n      const workbook = XLSX.read(data, { type: \"binary\" });\n      const sheetName = workbook.SheetNames[0];\n      const worksheet = workbook.Sheets[sheetName];\n      const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });\n\n      if (jsonData[0].length < 5) {\n        jsonData[0].push(\"Entered By\");\n      }\n\n      const { data: inserted, error } = await supabase.from(\"files\").insert([\n        {\n          uploaded_by: currentUser,\n          data: jsonData,\n        },\n      ]).select();\n\n      if (error) {\n        console.error(\"Upload failed\", error);\n      } else {\n        setExcelData(jsonData);\n        setFileId(inserted[0].id);\n      }\n    };\n    reader.readAsBinaryString(file);\n  };\n\n  const loadLatestFile = async () => {\n    const { data, error } = await supabase\n      .from(\"files\")\n      .select(\"id, data\")\n      .order(\"created_at\", { ascending: false })\n      .limit(1)\n      .single();\n\n    if (!error && data?.data) {\n      setExcelData(data.data);\n      setFileId(data.id);\n    }\n  };\n\n  const saveToSupabase = async (newData) => {\n    if (!fileId) return;\n    await supabase.from(\"files\").update({ data: newData }).eq(\"id\", fileId);\n  };\n\n  const handleInputChange = (index, value) => {\n    const updatedData = [...excelData];\n    updatedData[index][2] = value;\n    updatedData[index][4] = currentUser;\n    setExcelData(updatedData);\n    saveToSupabase(updatedData);\n    setEditMessage(\"Changes saved. Report will reflect latest values.\");\n    setTimeout(() => setEditMessage(\"\"), 3000);\n  };\n\n  const getInputClass = (actual, expected) => {\n    if (actual === undefined || actual === \"\") return \"border-gray-300\";\n    const diff = Math.abs(actual - expected);\n    if (diff === 0) return \"border-green-500\";\n    if (diff <= 10) return \"border-yellow-400\";\n    if (diff <= 20) return \"border-orange-400\";\n    return \"border-red-500\";\n  };\n\n  const handleSubmit = () => {\n    saveToSupabase(excelData);\n    alert(\"Submitted. Data has been saved.\");\n  };\n\n  const handleGeneratePDF = () => {\n    const doc = new jsPDF();\n    const missing = excelData.slice(1).filter((row) => row[2] === undefined || row[2] === \"\");\n    const rows = missing.map((row) => [row[0], row[3]]);\n    doc.text(\"Items Missing Physical Count\", 14, 16);\n    doc.autoTable({ head: [[\"SKU\", \"Description\"]], body: rows, startY: 20 });\n    doc.save(`Missing_Counts_${Date.now()}.pdf`);\n  };\n\n  const filteredData = excelData.filter((row, index) => {\n    if (index === 0) return true;\n    return row[0]?.toString().toLowerCase().includes(searchQuery.toLowerCase());\n  });\n\n  return (\n    <div className=\"p-6 max-w-6xl mx-auto space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold\">Inventory Report System</h1>\n        <div className=\"text-right\">\n          <span className=\"block text-sm text-gray-500\">\n            Logged in as: {currentUser} ({userRole})\n          </span>\n          <button\n            onClick={handleLogout}\n            className=\"mt-1 text-sm text-red-600 underline hover:text-red-800\"\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {userRole === \"admin\" && (\n        <div>\n          <Input type=\"file\" accept=\".xlsx,.xls\" onChange={handleUpload} />\n        </div>\n      )}\n\n      {excelData.length > 0 && (\n        <div className=\"space-y-4\">\n          {userRole === \"user\" && (\n            <div className=\"flex justify-between items-center\">\n              <Input\n                type=\"text\"\n                placeholder=\"Search SKU...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-64 border-gray-400\"\n              />\n              <Button onClick={handleGeneratePDF}>Download Missing Counts PDF</Button>\n            </div>\n          )}\n\n          {editMessage && <div className=\"text-green-600 text-sm\">{editMessage}</div>}\n\n          <div className=\"overflow-auto border rounded p-2\">\n            <table className=\"w-full table-auto text-sm\">\n              <thead>\n                <tr className=\"bg-gray-200\">\n                  <th className=\"px-2 py-1\">SKU</th>\n                  {userRole === \"admin\" && <th className=\"px-2 py-1\">On Hand</th>}\n                  <th className=\"px-2 py-1\">Physical Count</th>\n                  <th className=\"px-2 py-1\">Description</th>\n                  {userRole === \"admin\" && <th className=\"px-2 py-1\">Entered By</th>}\n                </tr>\n              </thead>\n              <tbody>\n                {filteredData.slice(1).map((row, idx) => {\n                  const rowIndex = excelData.findIndex((r) => r[0] === row[0]);\n                  const physicalCount = row[2];\n                  const onHand = row[1];\n                  return (\n                    <tr key={idx} className=\"border-t\">\n                      <td className=\"px-2 py-1\">\n                        <span\n                          className={\n                            row[2] === undefined || row[2] === \"\" ? \"font-bold\" : \"\"\n                          }\n                        >\n                          {row[0]}\n                        </span>\n                      </td>\n                      {userRole === \"admin\" && <td className=\"px-2 py-1\">{onHand}</td>}\n                      <td className=\"px-2 py-1\">\n                        {row[3] ? (\n                          <Input\n                            type=\"text\"\n                            inputMode=\"numeric\"\n                            pattern=\"[0-9]*\"\n                            value={physicalCount || \"\"}\n                            onChange={(e) =>\n                              handleInputChange(rowIndex, parseInt(e.target.value))\n                            }\n                            className={`border-2 w-full ${getInputClass(\n                              parseInt(physicalCount),\n                              parseInt(onHand)\n                            )}`}\n                          />\n                        ) : (\n                          <span className=\"text-gray-400 italic\">N/A</span>\n                        )}\n                      </td>\n                      <td className=\"px-2 py-1\">{row[3]}</td>\n                      {userRole === \"admin\" && <td className=\"px-2 py-1\">{row[4]}</td>}\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {userRole === \"user\" && excelData.length > 0 && (\n        <Button onClick={handleSubmit}>Submit</Button>\n      )}\n\n      {userRole === \"admin\" && excelData.length > 0 && (\n        <div className=\"mt-6 border-t pt-4 space-y-3\">\n          <div className=\"flex gap-4\">\n            <Button onClick={handleSubmit}>Generate Report</Button>\n            <Button onClick={handleGeneratePDF}>Download Missing Counts PDF</Button>\n          </div>\n          {reportHistory.length > 0 && (\n            <div>\n              <h2 className=\"text-lg font-semibold mt-2\">Report History</h2>\n              <ul className=\"list-disc list-inside text-blue-700 mt-1\">\n                {reportHistory.map((file, index) => (\n                  <li key={index}>{file}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}